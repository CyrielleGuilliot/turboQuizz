{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{Carousel,Card}from'react-bootstrap';import\"./css/List.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const List=()=>{const{id,userId}=useParams();// récupère les paramètres d'URL\nconst navigate=useNavigate();const[list,setList]=useState(null);const[flippedCards,setFlippedCards]=useState({});useEffect(()=>{const uid=userId||localStorage.getItem(\"userId\");// fallback si pas dans l'URL\nif(!uid)return;fetch(`http://localhost:5000/api/users/${uid}/lists`).then(response=>response.json()).then(data=>{const foundList=data.find(l=>l.id===parseInt(id));setList(foundList);}).catch(error=>console.error(\"Erreur de chargement de la liste\",error));},[id,userId]);const handleFlip=index=>{setFlippedCards(prev=>({...prev,[index]:!prev[index]}));};if(!list)return/*#__PURE__*/_jsx(\"p\",{children:\"Chargement...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"list-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>navigate(`/user/${userId}/home`),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left\"})}),/*#__PURE__*/_jsx(Carousel,{children:list.words.map((word,index)=>/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"div\",{className:\"carousel-item-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:`flip-card ${flippedCards[index]?\"flipped\":\"\"}`,onClick:()=>handleFlip(index),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flip-card-front\",children:/*#__PURE__*/_jsx(Card,{className:\"custom-card\",children:/*#__PURE__*/_jsx(Card.Body,{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"term-text\",children:word.term})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flip-card-back\",children:/*#__PURE__*/_jsx(Card,{className:\"custom-card back\",children:/*#__PURE__*/_jsx(Card.Body,{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"definition-text\",children:word.definition})})})})]})})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"cards-button\",onClick:()=>navigate(`/user/${userId}/list/${id}/cards`),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-front\"}),\"Cards\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"cards-button\",onClick:()=>navigate(`/user/${userId}/list/${id}/learn`),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-graph-up-arrow\"}),\"Learn\"]})]})]});};export default List;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Carousel","Card","jsx","_jsx","jsxs","_jsxs","List","id","userId","navigate","list","setList","flippedCards","setFlippedCards","uid","localStorage","getItem","fetch","then","response","json","data","foundList","find","l","parseInt","catch","error","console","handleFlip","index","prev","children","className","onClick","words","map","word","Item","Body","term","definition"],"sources":["C:/Users/cyrie/Documents/Projets/turboQuizz/client/src/pages/List.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Carousel, Card } from 'react-bootstrap';\r\nimport \"./css/List.css\";\r\n\r\nconst List = () => {\r\n    const { id, userId } = useParams(); // récupère les paramètres d'URL\r\n    const navigate = useNavigate();\r\n    const [list, setList] = useState(null);\r\n    const [flippedCards, setFlippedCards] = useState({});\r\n\r\n    useEffect(() => {\r\n        const uid = userId || localStorage.getItem(\"userId\"); // fallback si pas dans l'URL\r\n        if (!uid) return;\r\n\r\n        fetch(`http://localhost:5000/api/users/${uid}/lists`)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                const foundList = data.find((l) => l.id === parseInt(id));\r\n                setList(foundList);\r\n            })\r\n            .catch((error) =>\r\n                console.error(\"Erreur de chargement de la liste\", error)\r\n            );\r\n    }, [id, userId]);\r\n\r\n    const handleFlip = (index) => {\r\n        setFlippedCards((prev) => ({\r\n            ...prev,\r\n            [index]: !prev[index],\r\n        }));\r\n    };\r\n\r\n    if (!list) return <p>Chargement...</p>;\r\n\r\n    return (\r\n        <div className=\"list-container\">\r\n            <button className=\"back-button\" onClick={() => navigate(`/user/${userId}/home`)}>\r\n                <i className=\"bi bi-arrow-left\"></i>\r\n            </button>\r\n\r\n            <Carousel>\r\n                {list.words.map((word, index) => (\r\n                    <Carousel.Item key={index}>\r\n                        <div className=\"carousel-item-content\">\r\n                            <div\r\n                                className={`flip-card ${flippedCards[index] ? \"flipped\" : \"\"}`}\r\n                                onClick={() => handleFlip(index)}\r\n                            >\r\n                                <div className=\"flip-card-front\">\r\n                                    <Card className=\"custom-card\">\r\n                                        <Card.Body className=\"d-flex justify-content-center align-items-center\">\r\n                                            <h3 className=\"term-text\">{word.term}</h3>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </div>\r\n\r\n                                <div className=\"flip-card-back\">\r\n                                    <Card className=\"custom-card back\">\r\n                                        <Card.Body className=\"d-flex justify-content-center align-items-center\">\r\n                                            <p className=\"definition-text\">{word.definition}</p>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Carousel.Item>\r\n                ))}\r\n            </Carousel>\r\n\r\n            <div className=\"button-group\">\r\n                <button className=\"cards-button\" onClick={() => navigate(`/user/${userId}/list/${id}/cards`)}>\r\n                    <i className=\"bi bi-front\"></i>\r\n                    Cards\r\n                </button>\r\n\r\n                <button className=\"cards-button\" onClick={() => navigate(`/user/${userId}/list/${id}/learn`)}>\r\n                    <i className=\"bi bi-graph-up-arrow\"></i>\r\n                    Learn\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default List;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}