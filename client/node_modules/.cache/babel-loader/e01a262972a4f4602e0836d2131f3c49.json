{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./css/Home.css\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[showPopup,setShowPopup]=useState(false);const[lists,setLists]=useState([]);const[newList,setNewList]=useState({title:\"\",words:[{term:\"\",definition:\"\"},{term:\"\",definition:\"\"}]});const navigate=useNavigate();const{userId}=useParams();useEffect(()=>{fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`).then(response=>response.json()).then(data=>setLists(data)).catch(error=>console.error(\"Erreur lors du chargement des listes\",error));},[userId]);const handleListClick=id=>{navigate(`/user/${userId}/list/${id}`);};const togglePopup=()=>{setShowPopup(!showPopup);};const handleChange=e=>{setNewList({...newList,title:e.target.value});};const handleAddWord=()=>{setNewList({...newList,words:[...newList.words,{term:\"\",definition:\"\"}]});};const handleWordChange=(index,e)=>{const{name,value}=e.target;const updatedWords=[...newList.words];updatedWords[index][name]=value;setNewList({...newList,words:updatedWords});};const handleSubmit=e=>{e.preventDefault();fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newList)}).then(res=>res.json()).then(data=>{setLists([...lists,data]);setShowPopup(false);setNewList({title:\"\",words:[{term:\"\",definition:\"\"},{term:\"\",definition:\"\"}]});}).catch(error=>console.error(\"Erreur ajout liste:\",error));};return/*#__PURE__*/_jsxs(\"div\",{className:\"lists-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"titleHome\",children:\"Lists :\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-button\",onClick:togglePopup,children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"add-circle-outline\",size:\"large\"}),\"Add list\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lists-grid\",children:lists.map(list=>/*#__PURE__*/_jsxs(\"div\",{className:\"list-card\",onClick:()=>handleListClick(list.id),style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:list.title}),/*#__PURE__*/_jsxs(\"p\",{children:[list.words.length,\" terms\"]})]},list.id))}),showPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create a list\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Title\",value:newList.title,onChange:handleChange,required:true}),newList.words.map((word,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"word-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"term\",placeholder:\"Term\",value:word.term,onChange:e=>handleWordChange(index,e),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"definition\",placeholder:\"Definition\",value:word.definition,onChange:e=>handleWordChange(index,e),required:true})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddWord,className:\"add-word-button\",children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"add-outline\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-button\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:togglePopup,children:\"Cancel\"})]})]})]})})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","Home","showPopup","setShowPopup","lists","setLists","newList","setNewList","title","words","term","definition","navigate","userId","fetch","then","response","json","data","catch","error","console","handleListClick","id","togglePopup","handleChange","e","target","value","handleAddWord","handleWordChange","index","name","updatedWords","handleSubmit","preventDefault","method","headers","body","JSON","stringify","res","className","children","onClick","size","map","list","style","cursor","length","onSubmit","type","placeholder","onChange","required","word"],"sources":["C:/Users/cyrie/Documents/Projets/turboQuizz/client/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./css/Home.css\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n    const [showPopup, setShowPopup] = useState(false);\r\n    const [lists, setLists] = useState([]);\r\n    const [newList, setNewList] = useState({\r\n        title: \"\",\r\n        words: [\r\n            { term: \"\", definition: \"\" },\r\n            { term: \"\", definition: \"\" }\r\n        ],\r\n    });\r\n\r\n    const navigate = useNavigate();\r\n    const { userId } = useParams();\r\n\r\n    useEffect(() => {\r\n        fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`)\r\n            .then((response) => response.json())\r\n            .then((data) => setLists(data))\r\n            .catch((error) => console.error(\"Erreur lors du chargement des listes\", error));\r\n    }, [userId]);\r\n\r\n    const handleListClick = (id) => {\r\n        navigate(`/user/${userId}/list/${id}`);\r\n    };\r\n\r\n    const togglePopup = () => {\r\n        setShowPopup(!showPopup);\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setNewList({ ...newList, title: e.target.value });\r\n    };\r\n\r\n    const handleAddWord = () => {\r\n        setNewList({\r\n            ...newList,\r\n            words: [...newList.words, { term: \"\", definition: \"\" }],\r\n        });\r\n    };\r\n\r\n    const handleWordChange = (index, e) => {\r\n        const { name, value } = e.target;\r\n        const updatedWords = [...newList.words];\r\n        updatedWords[index][name] = value;\r\n        setNewList({ ...newList, words: updatedWords });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(newList),\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                setLists([...lists, data]);\r\n                setShowPopup(false);\r\n                setNewList({\r\n                    title: \"\",\r\n                    words: [\r\n                        { term: \"\", definition: \"\" },\r\n                        { term: \"\", definition: \"\" }\r\n                    ]\r\n                });\r\n            })\r\n            .catch((error) => console.error(\"Erreur ajout liste:\", error));\r\n    };\r\n\r\n    return (\r\n        <div className=\"lists-container\">\r\n            <div>\r\n                <div className=\"titleHome\">Lists :</div>\r\n                <button className=\"add-button\" onClick={togglePopup}>\r\n                    <ion-icon name=\"add-circle-outline\" size=\"large\"></ion-icon>\r\n                    Add list\r\n                </button>\r\n            </div>\r\n            <div className=\"lists-grid\">\r\n                {lists.map((list) => (\r\n                    <div\r\n                        key={list.id}\r\n                        className=\"list-card\"\r\n                        onClick={() => handleListClick(list.id)}\r\n                        style={{ cursor: \"pointer\" }}\r\n                    >\r\n                        <h3>{list.title}</h3>\r\n                        <p>{list.words.length} terms</p>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {showPopup && (\r\n                <div className=\"popup-overlay\">\r\n                    <div className=\"popup-content\">\r\n                        <h3>Create a list</h3>\r\n                        <form onSubmit={handleSubmit}>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"title\"\r\n                                placeholder=\"Title\"\r\n                                value={newList.title}\r\n                                onChange={handleChange}\r\n                                required\r\n                            />\r\n                            {newList.words.map((word, index) => (\r\n                                <div key={index} className=\"word-card\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"term\"\r\n                                        placeholder=\"Term\"\r\n                                        value={word.term}\r\n                                        onChange={(e) => handleWordChange(index, e)}\r\n                                        required\r\n                                    />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"definition\"\r\n                                        placeholder=\"Definition\"\r\n                                        value={word.definition}\r\n                                        onChange={(e) => handleWordChange(index, e)}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={handleAddWord}\r\n                                className=\"add-word-button\"\r\n                            >\r\n                                <ion-icon name=\"add-outline\"></ion-icon>\r\n                            </button>\r\n                            <div className=\"popup-buttons\">\r\n                                <button type=\"submit\" className=\"save-button\">\r\n                                    Save\r\n                                </button>\r\n                                <button type=\"button\" className=\"cancel-button\" onClick={togglePopup}>\r\n                                    Cancel\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}