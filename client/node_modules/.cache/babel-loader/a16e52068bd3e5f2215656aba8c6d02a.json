{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{Card,Carousel}from'react-bootstrap';import\"./css/Cards.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cards=()=>{const{id}=useParams();const navigate=useNavigate();const[list,setList]=useState(null);const[currentIndex,setCurrentIndex]=useState(0);const[flippedCards,setFlippedCards]=useState({});const[correctCount,setCorrectCount]=useState(0);const[incorrectCount,setIncorrectCount]=useState(0);useEffect(()=>{const userId=localStorage.getItem(\"userId\");fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`).then(response=>response.json()).then(data=>{const foundList=data.find(l=>l.id===parseInt(id));setList(foundList);}).catch(error=>console.error(\"Erreur de chargement de la liste\",error));},[id]);const handleFlip=index=>{setFlippedCards(prev=>({...prev,[index]:!prev[index]}));};const handleAnswer=isCorrect=>{if(currentIndex<list.words.length){if(isCorrect&&correctCount<list.words.length){setCorrectCount(correctCount+1);}else if(!isCorrect&&incorrectCount<list.words.length){setIncorrectCount(incorrectCount+1);}if(currentIndex<list.words.length-1){setCurrentIndex(currentIndex+1);}}};if(!list)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});const word=list.words[currentIndex];const isFlipped=flippedCards[currentIndex];return/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"exit-button\",onClick:()=>{const userId=localStorage.getItem(\"userId\");navigate(`/user/${userId}/list/${id}`);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-counter\",children:[currentIndex+1,\"/\",list.words.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"score-circle incorrect-score\",children:/*#__PURE__*/_jsx(\"span\",{children:incorrectCount})}),/*#__PURE__*/_jsx(\"div\",{className:\"score-circle correct-score\",children:/*#__PURE__*/_jsx(\"span\",{children:correctCount})})]}),/*#__PURE__*/_jsx(Carousel,{children:list.words.map((word,index)=>/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"div\",{className:\"carousel-item-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:`flip-card ${flippedCards[index]?\"flipped\":\"\"}`,onClick:()=>handleFlip(index),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flip-card-front\",children:/*#__PURE__*/_jsx(Card,{className:\"custom-card\",children:/*#__PURE__*/_jsx(Card.Body,{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"term-text\",children:word.term})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flip-card-back\",children:/*#__PURE__*/_jsx(Card,{className:\"custom-card back\",children:/*#__PURE__*/_jsx(Card.Body,{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"definition-text\",children:word.definition})})})})]})})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"button2-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"incorrect-button\",onClick:()=>handleAnswer(false),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"correct-button\",onClick:()=>handleAnswer(true),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-lg\"})})]})]});};export default Cards;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Card","Carousel","jsx","_jsx","jsxs","_jsxs","Cards","id","navigate","list","setList","currentIndex","setCurrentIndex","flippedCards","setFlippedCards","correctCount","setCorrectCount","incorrectCount","setIncorrectCount","userId","localStorage","getItem","fetch","then","response","json","data","foundList","find","l","parseInt","catch","error","console","handleFlip","index","prev","handleAnswer","isCorrect","words","length","children","word","isFlipped","className","onClick","map","Item","Body","term","definition"],"sources":["C:/Users/cyrie/Documents/Projets/turboQuizz/client/src/pages/Cards.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport {Card, Carousel} from 'react-bootstrap';\r\nimport \"./css/Cards.css\";\r\n\r\nconst Cards = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    const [list, setList] = useState(null);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [flippedCards, setFlippedCards] = useState({});\r\n    const [correctCount, setCorrectCount] = useState(0);\r\n    const [incorrectCount, setIncorrectCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const userId = localStorage.getItem(\"userId\");\r\n\r\n        fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                const foundList = data.find((l) => l.id === parseInt(id));\r\n                setList(foundList);\r\n            })\r\n            .catch((error) => console.error(\"Erreur de chargement de la liste\", error));\r\n    }, [id]);\r\n\r\n    const handleFlip = (index) => {\r\n        setFlippedCards((prev) => ({\r\n            ...prev,\r\n            [index]: !prev[index],\r\n        }));\r\n    };\r\n\r\n    const handleAnswer = (isCorrect) => {\r\n        if (currentIndex < list.words.length) {\r\n            if (isCorrect && correctCount < list.words.length) {\r\n                setCorrectCount(correctCount + 1);\r\n            } else if (!isCorrect && incorrectCount < list.words.length) {\r\n                setIncorrectCount(incorrectCount + 1);\r\n            }\r\n\r\n            if (currentIndex < list.words.length - 1) {\r\n                setCurrentIndex(currentIndex + 1);\r\n            }\r\n        }\r\n    };\r\n\r\n    if (!list) return <p>Loading...</p>;\r\n\r\n    const word = list.words[currentIndex];\r\n    const isFlipped = flippedCards[currentIndex];\r\n\r\n    return (\r\n        <div className=\"card-container\">\r\n            <button\r\n                className=\"exit-button\"\r\n                onClick={() => {\r\n                    const userId = localStorage.getItem(\"userId\");\r\n                    navigate(`/user/${userId}/list/${id}`);\r\n                }}\r\n            >\r\n                <i className=\"bi bi-x-lg\"></i>\r\n            </button>\r\n\r\n            <div className=\"progress-counter\">\r\n                {currentIndex + 1}/{list.words.length}\r\n            </div>\r\n\r\n            <div className=\"score-container\">\r\n                <div className=\"score-circle incorrect-score\">\r\n                    <span>{incorrectCount}</span>\r\n                </div>\r\n                <div className=\"score-circle correct-score\">\r\n                    <span>{correctCount}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <Carousel>\r\n                {list.words.map((word, index) => (\r\n                    <Carousel.Item key={index}>\r\n                        <div className=\"carousel-item-content\">\r\n                            <div className={`flip-card ${flippedCards[index] ? \"flipped\" : \"\"}`}\r\n                                 onClick={() => handleFlip(index)}>\r\n                                <div className=\"flip-card-front\">\r\n                                    <Card className=\"custom-card\">\r\n                                        <Card.Body className=\"d-flex justify-content-center align-items-center\">\r\n                                            <h3 className=\"term-text\">{word.term}</h3>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </div>\r\n\r\n                                <div className=\"flip-card-back\">\r\n                                    <Card className=\"custom-card back\">\r\n                                        <Card.Body className=\"d-flex justify-content-center align-items-center\">\r\n                                            <p className=\"definition-text\">{word.definition}</p>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Carousel.Item>\r\n                ))}\r\n            </Carousel>\r\n\r\n            <div className=\"button2-group\">\r\n                <button className=\"incorrect-button\" onClick={() => handleAnswer(false)}>\r\n                    <i className=\"bi bi-x-lg\"></i>\r\n                </button>\r\n                <button className=\"correct-button\" onClick={() => handleAnswer(true)}>\r\n                    <i className=\"bi bi-check-lg\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cards;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAAQC,IAAI,CAAEC,QAAQ,KAAO,iBAAiB,CAC9C,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAChB,KAAM,CAAEC,EAAG,CAAC,CAAGT,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACU,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACc,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACgB,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpD,KAAM,CAACkB,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACoB,cAAc,CAAEC,iBAAiB,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CAEvDD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAuB,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAE7CC,KAAK,CAAC,6CAA6CH,MAAM,QAAQ,CAAC,CAC7DI,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACZ,KAAM,CAAAC,SAAS,CAAGD,IAAI,CAACE,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACtB,EAAE,GAAKuB,QAAQ,CAACvB,EAAE,CAAC,CAAC,CACzDG,OAAO,CAACiB,SAAS,CAAC,CACtB,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAAC,CACnF,CAAC,CAAE,CAACzB,EAAE,CAAC,CAAC,CAER,KAAM,CAAA2B,UAAU,CAAIC,KAAK,EAAK,CAC1BrB,eAAe,CAAEsB,IAAI,GAAM,CACvB,GAAGA,IAAI,CACP,CAACD,KAAK,EAAG,CAACC,IAAI,CAACD,KAAK,CACxB,CAAC,CAAC,CAAC,CACP,CAAC,CAED,KAAM,CAAAE,YAAY,CAAIC,SAAS,EAAK,CAChC,GAAI3B,YAAY,CAAGF,IAAI,CAAC8B,KAAK,CAACC,MAAM,CAAE,CAClC,GAAIF,SAAS,EAAIvB,YAAY,CAAGN,IAAI,CAAC8B,KAAK,CAACC,MAAM,CAAE,CAC/CxB,eAAe,CAACD,YAAY,CAAG,CAAC,CAAC,CACrC,CAAC,IAAM,IAAI,CAACuB,SAAS,EAAIrB,cAAc,CAAGR,IAAI,CAAC8B,KAAK,CAACC,MAAM,CAAE,CACzDtB,iBAAiB,CAACD,cAAc,CAAG,CAAC,CAAC,CACzC,CAEA,GAAIN,YAAY,CAAGF,IAAI,CAAC8B,KAAK,CAACC,MAAM,CAAG,CAAC,CAAE,CACtC5B,eAAe,CAACD,YAAY,CAAG,CAAC,CAAC,CACrC,CACJ,CACJ,CAAC,CAED,GAAI,CAACF,IAAI,CAAE,mBAAON,IAAA,MAAAsC,QAAA,CAAG,YAAU,CAAG,CAAC,CAEnC,KAAM,CAAAC,IAAI,CAAGjC,IAAI,CAAC8B,KAAK,CAAC5B,YAAY,CAAC,CACrC,KAAM,CAAAgC,SAAS,CAAG9B,YAAY,CAACF,YAAY,CAAC,CAE5C,mBACIN,KAAA,QAAKuC,SAAS,CAAC,gBAAgB,CAAAH,QAAA,eAC3BtC,IAAA,WACIyC,SAAS,CAAC,aAAa,CACvBC,OAAO,CAAEA,CAAA,GAAM,CACX,KAAM,CAAA1B,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7Cb,QAAQ,CAAC,SAASW,MAAM,SAASZ,EAAE,EAAE,CAAC,CAC1C,CAAE,CAAAkC,QAAA,cAEFtC,IAAA,MAAGyC,SAAS,CAAC,YAAY,CAAI,CAAC,CAC1B,CAAC,cAETvC,KAAA,QAAKuC,SAAS,CAAC,kBAAkB,CAAAH,QAAA,EAC5B9B,YAAY,CAAG,CAAC,CAAC,GAAC,CAACF,IAAI,CAAC8B,KAAK,CAACC,MAAM,EACpC,CAAC,cAENnC,KAAA,QAAKuC,SAAS,CAAC,iBAAiB,CAAAH,QAAA,eAC5BtC,IAAA,QAAKyC,SAAS,CAAC,8BAA8B,CAAAH,QAAA,cACzCtC,IAAA,SAAAsC,QAAA,CAAOxB,cAAc,CAAO,CAAC,CAC5B,CAAC,cACNd,IAAA,QAAKyC,SAAS,CAAC,4BAA4B,CAAAH,QAAA,cACvCtC,IAAA,SAAAsC,QAAA,CAAO1B,YAAY,CAAO,CAAC,CAC1B,CAAC,EACL,CAAC,cAENZ,IAAA,CAACF,QAAQ,EAAAwC,QAAA,CACJhC,IAAI,CAAC8B,KAAK,CAACO,GAAG,CAAC,CAACJ,IAAI,CAAEP,KAAK,gBACxBhC,IAAA,CAACF,QAAQ,CAAC8C,IAAI,EAAAN,QAAA,cACVtC,IAAA,QAAKyC,SAAS,CAAC,uBAAuB,CAAAH,QAAA,cAClCpC,KAAA,QAAKuC,SAAS,CAAE,aAAa/B,YAAY,CAACsB,KAAK,CAAC,CAAG,SAAS,CAAG,EAAE,EAAG,CAC/DU,OAAO,CAAEA,CAAA,GAAMX,UAAU,CAACC,KAAK,CAAE,CAAAM,QAAA,eAClCtC,IAAA,QAAKyC,SAAS,CAAC,iBAAiB,CAAAH,QAAA,cAC5BtC,IAAA,CAACH,IAAI,EAAC4C,SAAS,CAAC,aAAa,CAAAH,QAAA,cACzBtC,IAAA,CAACH,IAAI,CAACgD,IAAI,EAACJ,SAAS,CAAC,kDAAkD,CAAAH,QAAA,cACnEtC,IAAA,OAAIyC,SAAS,CAAC,WAAW,CAAAH,QAAA,CAAEC,IAAI,CAACO,IAAI,CAAK,CAAC,CACnC,CAAC,CACV,CAAC,CACN,CAAC,cAEN9C,IAAA,QAAKyC,SAAS,CAAC,gBAAgB,CAAAH,QAAA,cAC3BtC,IAAA,CAACH,IAAI,EAAC4C,SAAS,CAAC,kBAAkB,CAAAH,QAAA,cAC9BtC,IAAA,CAACH,IAAI,CAACgD,IAAI,EAACJ,SAAS,CAAC,kDAAkD,CAAAH,QAAA,cACnEtC,IAAA,MAAGyC,SAAS,CAAC,iBAAiB,CAAAH,QAAA,CAAEC,IAAI,CAACQ,UAAU,CAAI,CAAC,CAC7C,CAAC,CACV,CAAC,CACN,CAAC,EACL,CAAC,CACL,CAAC,EApBUf,KAqBL,CAClB,CAAC,CACI,CAAC,cAEX9B,KAAA,QAAKuC,SAAS,CAAC,eAAe,CAAAH,QAAA,eAC1BtC,IAAA,WAAQyC,SAAS,CAAC,kBAAkB,CAACC,OAAO,CAAEA,CAAA,GAAMR,YAAY,CAAC,KAAK,CAAE,CAAAI,QAAA,cACpEtC,IAAA,MAAGyC,SAAS,CAAC,YAAY,CAAI,CAAC,CAC1B,CAAC,cACTzC,IAAA,WAAQyC,SAAS,CAAC,gBAAgB,CAACC,OAAO,CAAEA,CAAA,GAAMR,YAAY,CAAC,IAAI,CAAE,CAAAI,QAAA,cACjEtC,IAAA,MAAGyC,SAAS,CAAC,gBAAgB,CAAI,CAAC,CAC9B,CAAC,EACR,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}