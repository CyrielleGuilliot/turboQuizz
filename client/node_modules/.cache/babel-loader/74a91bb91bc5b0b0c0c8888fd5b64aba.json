{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{Card,Carousel}from'react-bootstrap';import\"./css/Cards.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cards=()=>{const{id}=useParams();const navigate=useNavigate();const[list,setList]=useState(null);const[currentIndex,setCurrentIndex]=useState(0);const[flippedCards,setFlippedCards]=useState({});const[correctCount,setCorrectCount]=useState(0);const[incorrectCount,setIncorrectCount]=useState(0);useEffect(()=>{const userId=localStorage.getItem(\"userId\");fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`).then(response=>response.json()).then(data=>{console.log(\"Donn√©es r√©cup√©r√©es : \",data);// üëà ajoute √ßa\nconst foundList=data.find(l=>l.id===parseInt(id));console.log(\"Liste trouv√©e : \",foundList);// üëà et √ßa aussi\nsetList(foundList);}).catch(error=>console.error(\"Erreur de chargement de la liste\",error));},[id]);const handleFlip=index=>{setFlippedCards(prev=>({...prev,[index]:!prev[index]}));};const handleAnswer=isCorrect=>{if(currentIndex<list.words.length){if(isCorrect&&correctCount<list.words.length){setCorrectCount(correctCount+1);}else if(!isCorrect&&incorrectCount<list.words.length){setIncorrectCount(incorrectCount+1);}if(currentIndex<list.words.length-1){setCurrentIndex(currentIndex+1);}}};if(!list)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});const word=list.words[currentIndex];const isFlipped=flippedCards[currentIndex];console.log(\"D√©finition : \",word.definition);return/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"exit-button\",onClick:()=>{const userId=localStorage.getItem(\"userId\");navigate(`/user/${userId}/list/${id}`);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-counter\",children:[currentIndex+1,\"/\",list.words.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"score-circle incorrect-score\",children:/*#__PURE__*/_jsx(\"span\",{children:incorrectCount})}),/*#__PURE__*/_jsx(\"div\",{className:\"score-circle correct-score\",children:/*#__PURE__*/_jsx(\"span\",{children:correctCount})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"single-card-wrapper\",onClick:()=>handleFlip(currentIndex),children:/*#__PURE__*/_jsx(\"div\",{className:\"flip-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:`flip-card-inner ${isFlipped?\"flipped\":\"\"}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flip-card-front\",children:/*#__PURE__*/_jsx(\"div\",{className:\"custom-card\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"term-text\",children:word.term})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flip-card-back\",children:/*#__PURE__*/_jsx(\"div\",{className:\"custom-card back\",children:/*#__PURE__*/_jsx(\"p\",{className:\"definition-text\",children:word.definition})})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button2-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"incorrect-button\",onClick:()=>handleAnswer(false),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"correct-button\",onClick:()=>handleAnswer(true),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-lg\"})})]})]});};export default Cards;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","Card","Carousel","jsx","_jsx","jsxs","_jsxs","Cards","id","navigate","list","setList","currentIndex","setCurrentIndex","flippedCards","setFlippedCards","correctCount","setCorrectCount","incorrectCount","setIncorrectCount","userId","localStorage","getItem","fetch","then","response","json","data","console","log","foundList","find","l","parseInt","catch","error","handleFlip","index","prev","handleAnswer","isCorrect","words","length","children","word","isFlipped","definition","className","onClick","term"],"sources":["C:/Users/cyrie/Documents/Projets/turboQuizz/client/src/pages/Cards.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {useParams, useNavigate} from \"react-router-dom\";\r\nimport {Card, Carousel} from 'react-bootstrap';\r\nimport \"./css/Cards.css\";\r\n\r\nconst Cards = () => {\r\n    const {id} = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    const [list, setList] = useState(null);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [flippedCards, setFlippedCards] = useState({});\r\n    const [correctCount, setCorrectCount] = useState(0);\r\n    const [incorrectCount, setIncorrectCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const userId = localStorage.getItem(\"userId\");\r\n\r\n        fetch(`https://turboquizz.onrender.com/api/users/${userId}/lists`)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                console.log(\"Donn√©es r√©cup√©r√©es : \", data); // üëà ajoute √ßa\r\n                const foundList = data.find((l) => l.id === parseInt(id));\r\n                console.log(\"Liste trouv√©e : \", foundList); // üëà et √ßa aussi\r\n                setList(foundList);\r\n            })\r\n            .catch((error) => console.error(\"Erreur de chargement de la liste\", error));\r\n    }, [id]);\r\n\r\n\r\n    const handleFlip = (index) => {\r\n        setFlippedCards((prev) => ({\r\n            ...prev,\r\n            [index]: !prev[index],\r\n        }));\r\n    };\r\n\r\n    const handleAnswer = (isCorrect) => {\r\n        if (currentIndex < list.words.length) {\r\n            if (isCorrect && correctCount < list.words.length) {\r\n                setCorrectCount(correctCount + 1);\r\n            } else if (!isCorrect && incorrectCount < list.words.length) {\r\n                setIncorrectCount(incorrectCount + 1);\r\n            }\r\n\r\n            if (currentIndex < list.words.length - 1) {\r\n                setCurrentIndex(currentIndex + 1);\r\n            }\r\n        }\r\n    };\r\n\r\n    if (!list) return <p>Loading...</p>;\r\n\r\n    const word = list.words[currentIndex];\r\n    const isFlipped = flippedCards[currentIndex];\r\n\r\n    console.log(\"D√©finition : \", word.definition);\r\n\r\n    return (\r\n        <div className=\"card-container\">\r\n            <button\r\n                className=\"exit-button\"\r\n                onClick={() => {\r\n                    const userId = localStorage.getItem(\"userId\");\r\n                    navigate(`/user/${userId}/list/${id}`);\r\n                }}\r\n            >\r\n                <i className=\"bi bi-x-lg\"></i>\r\n            </button>\r\n\r\n            <div className=\"progress-counter\">\r\n                {currentIndex + 1}/{list.words.length}\r\n            </div>\r\n\r\n            <div className=\"score-container\">\r\n                <div className=\"score-circle incorrect-score\">\r\n                    <span>{incorrectCount}</span>\r\n                </div>\r\n                <div className=\"score-circle correct-score\">\r\n                    <span>{correctCount}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"single-card-wrapper\" onClick={() => handleFlip(currentIndex)}>\r\n                <div className=\"flip-card\">\r\n                    <div className={`flip-card-inner ${isFlipped ? \"flipped\" : \"\"}`}>\r\n                        {/* Face avant : Terme */}\r\n                        <div className=\"flip-card-front\">\r\n                            <div className=\"custom-card\">\r\n                                <h3 className=\"term-text\">{word.term}</h3>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Face arri√®re : D√©finition */}\r\n                        <div className=\"flip-card-back\">\r\n                            <div className=\"custom-card back\">\r\n                                <p className=\"definition-text\">{word.definition}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"button2-group\">\r\n                <button className=\"incorrect-button\" onClick={() => handleAnswer(false)}>\r\n                    <i className=\"bi bi-x-lg\"></i>\r\n                </button>\r\n                <button className=\"correct-button\" onClick={() => handleAnswer(true)}>\r\n                    <i className=\"bi bi-check-lg\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Cards;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}